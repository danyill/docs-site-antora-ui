{{!-- search wrapper used to position search icon --}}
<div class="flex align-center search">
  <button class="flex align-center input js-search-trigger" type="button">
    <svg class="svg" width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M20.262 19.557l3.82 5.455a15.981 15.981 0 0 1-3.07 2.154L17.2 21.72a9.331 9.331 0 0 1-3.73.78 9.375 9.375 0 1 1 9.376-9.375c0 2.497-.992 4.752-2.583 6.432zM13.47 5.625c-4.136 0-7.5 3.364-7.5 7.5s3.364 7.5 7.5 7.5c4.135 0 7.5-3.364 7.5-7.5s-3.365-7.5-7.5-7.5z" /></svg>
    Search docs
  </button>
</div>
<ol class="nav-list">
  {{#each site.components}}
  <li class="nav-li{{#if (eq this @root.page.component)}} active{{/if}}" data-depth="0">
    <div class="flex align-center justify-justified">
      <a class="flex grow strong link nav-link nav-heading js-nav-link" tabindex="0">
        <img class="icon no-pointer" src="/_/img/icons/{{./name}}.svg"> {{{./title}}}
      </a>
      {{#if (gt ./versions.length 1)}}
      <button class="flex align-center shrink button versions" data-trigger="versions" data-trigger-product="{{./name}}">
        <span class="js-versions-text">{{./versions.0.version}}</span>
        <svg class="svg" width="30" height="30" viewBox="0 0 30 30" xmlns="http://www.w3.org/2000/svg"><path d="M15.003 21.284L6.563 9.232l1.928-.516 6.512 9.299 6.506-9.299 1.928.516-8.434 12.052z" /></svg>
        <div class="popover js-version-popover" data-popover="versions" data-popover-product="{{./name}}">
          <ol class="ol">
            <li class="li-heading">Current version
            <li class="flex align-center justify-justified li js-version" data-product="{{./name}}" data-version="{{./versions.0.version}}">{{./versions.0.version}}
          </ol>
          <ol class="ol">
            <li class="li-heading">Previous versions
            {{#each ./versions}}
            {{#if @index}}
            <li class="flex align-center justify-justified li js-version" data-product="{{./../name}}" data-version="{{./version}}">{{./version}}
            {{/if}}
            {{/each}}
          </ol>
        </div>
      </button>
      {{/if}}
    </div>
    {{#each ./versions}}
    {{> nav-tree navigation=./navigation.0.items level=1 version=./version product=./../name}}
    {{/each}}
  {{/each}}
</ol>
